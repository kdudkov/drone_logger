package main

import (
	"testing"
)

var msgs = []string{
	"\x58\x8a\x0c\x58\x4c\x30\x31\x32\x53\x46\x58\x78\x80\x0c\x08\x10",
	"\x58\x8b\x0e\x39\x00\xf3\x00\x7e\x3d\xfb\x00\x29\x00\x00\x00\x00\x07\xd9",
	"\x58\x8c\x0d\x00\x00\x00\x00\x00\x00\x00\x00\xe8\x03\x00\x00\x00\x6a",
	"\x58\x8f\x08\xc0\xf0\x0c\x00\x00\x01\x00\x00\xba",
	"\x58\xfe\x19\x48\x46\x2d\x58\x4c\x2d\x58\x4c\x30\x31\x32\x53\x30\x31\x31\x2e\x30\x32\x31\x2e\x31\x32\x32\x32\x05\x8c",
}

func TestCreateMessage(t *testing.T) {
	msg := createMessage(0x0b, []byte{0, 0, 0, 0, 0, 0, 0, 0})

	if len(msg) != 12 {
		t.Fail()
	}

	expected := []byte{0x68, 0xb, 8, 0, 0, 0, 0, 0, 0, 0, 0, 3}

	for i, c := range msg {
		if expected[i] != c {
			t.Fail()
		}
	}

}
